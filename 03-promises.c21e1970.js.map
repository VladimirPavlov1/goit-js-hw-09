{"mappings":"YAAA,IAAMA,EAAM,CACVC,OAAOC,SAASC,cAAc,SAC9BC,QAAQF,SAASC,cAAc,aAC/BE,OAAOH,SAASC,cAAc,YAC9BG,SAASJ,SAASC,cAAc,cAChCI,SAASL,SAASC,cAAc,eAElCK,QAAQC,IAAIT,GAKkLA,EAAzLC,OAAOS,iBAAiB,UAE7B,SAAsBC,GACpBA,EAAIC,iBACJC,QAAQC,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALE,MACxBT,QAAQC,IAAI,uBAAwCS,OAAfF,EAAS,QAAYE,OAAND,EAAM,M,IAE3DE,OAAM,SAAAJ,G,IAAGC,EAAQD,EAARC,SAAUC,EAAKF,EAALE,MAClBT,QAAQC,IAAI,sBAAqCS,OAAfF,EAAS,QAAYE,OAAND,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["const refs ={\n  formEl:document.querySelector('.form'),\n  delayEl:document.querySelector('.js-delay'),\n  stepEl:document.querySelector('.js-step'),\n  amountEl:document.querySelector('.js-amount'),\n  submitEl:document.querySelector('.js-submit'),\n}\nconsole.log(refs)\n\n// Напиши скрипт, який на момент сабміту форми викликає функцію createPromise(position, delay) стільки разів, скільки ввели в поле amount. Під час кожного виклику передай їй номер промісу (position), що створюється, і затримку, враховуючи першу затримку (delay), введену користувачем, і крок (step).\n\n\nrefs.formEl.addEventListener('submit',onFormSubmit)\n\nfunction onFormSubmit(evt){\n  evt.preventDefault();\n  promise.then(({ position, delay }) => {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\n\n\nfunction createPromise(position, delay) {\n  \n  let i=0;i<=Number(refs.amountEl.value);i+=1;\n  position=i+1;\n  delay=Number(refs.delayEl.value)+i*Number(refs.delayEl.value);\n\n  const promise = new Promise((resolve,reject)=>{\n  const shouldResolve = Math.random() > 0.3;\n  \n    setTimeout(()=>{\n      if (shouldResolve) \n      resolve('ok'),\n      reject('not ok')\n    },delay)\n\n  return promise\n  \n})\n}\n"],"names":["$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","delayEl","stepEl","amountEl","submitEl","console","log","addEventListener","evt","preventDefault","promise","then","param","position","delay","concat","catch"],"version":3,"file":"03-promises.c21e1970.js.map"}